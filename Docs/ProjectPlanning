‚ö†Ô∏è **Note:** You can track progress here. Do not delete this document ‚Äî it serves as the persistent project plan and development tracker for the Genealogy Web App.

---

# ü™∂ Genealogy Web App ‚Äî Project Planning Document

## üéØ Project Vision

A full-featured genealogy web application built on **Django**, adhering closely to the **GEDCOM X standard** for data modeling and interchange. The system will support:

* Accurate and interoperable genealogical data storage.
* Import from multiple existing genealogy formats and APIs.
* High-quality duplicate detection and merging.
* Robust validation, audit trails, and data provenance.
* Custom data entry and review interfaces for popular sources.
* Extensible architecture for integration with online services.

---

## üß© Phase Overview

### **Phase 0 ‚Äì Foundation & Learning**

**Goal:** Build hands-on understanding of Django models, migrations, and structure.

* [ ] Set up Django project and `core` app.
* [ ] Implement `BaseModel`, `URIField`, and audit mixins.
* [ ] Configure PostgreSQL + PostGIS.
* [ ] Build a test `Person` model and run first migrations.

**Deliverables:**

* Working local Django app.
* Verified migrations and admin panel access.

---

### **Phase 1 ‚Äì GEDCOM X Core Data Model**

**Goal:** Implement GEDCOM X entities faithfully.

* [ ] Apps: `persons`, `relationships`, `places`, `sources`, `vocab`.
* [ ] Models: `Person`, `Fact`, `Relationship`, `PlaceDescription`, `SourceDescription`, `EvidenceReference`, `VocabTerm`.
* [ ] Populate `vocab` with canonical GEDCOM X URIs.
* [ ] Unit tests for serialization and field constraints.

**Deliverables:**

* ORM structure matching conceptual GEDCOM X model.
* Fixtures or commands to preload vocabularies.

---

### **Phase 2 ‚Äì Import & Interchange**

**Goal:** Add importers for major genealogy formats.

* [ ] Create `importers` app with pluggable adapter design.
* [ ] Implement GEDCOM X JSON import/export (via Django REST Framework).
* [ ] Add legacy GEDCOM 5.5.1 parser.
* [ ] Test schema normalization to internal models.

**Deliverables:**

* CLI or web upload endpoint for import.
* Verified round-trip export/import for GEDCOM X.

---

### **Phase 3 ‚Äì Place Resolution & Evidence Synthesis**

**Goal:** Implement normalization and variant handling per Appendix A of the ERD.

* [ ] Create `PlaceResolution` model and table.
* [ ] Add management command for place resolution.
* [ ] Link facts to normalized `PlaceDescription` URIs.
* [ ] Implement evidence-conclusion pattern (multiple evidence facts ‚Üí one conclusion fact).

**Deliverables:**

* Working resolution engine with logging and confidence scoring.
* End-to-end test: multiple sources with variant places unify under one canonical URI.

---

### **Phase 4 ‚Äì Duplicate Detection & Merge Engine**

**Goal:** Robustly identify and merge duplicate persons, facts, and places.

* [ ] New `matching` app with similarity logic (names, dates, places).
* [ ] Implement fuzzy matching using `rapidfuzz`.
* [ ] Store similarity scores and merge decisions.
* [ ] Provide admin tools for review before merge.

**Deliverables:**

* Command-line or admin dashboard for deduplication.
* Configurable merge rules and thresholds.

---

### **Phase 5 ‚Äì Validation & Error Checking**

**Goal:** Ensure data integrity and spec compliance.

* [ ] Create `validation` app for schema and logic checks.
* [ ] Model-level validation for date and URI formats.
* [ ] Cross-model checks (e.g., death after birth, missing references).
* [ ] Aggregate integrity reports.

**Deliverables:**

* Automated nightly validation job.
* Error reports viewable in dashboard or exportable as JSON/CSV.

---

### **Phase 6 ‚Äì Integrations & External APIs**

**Goal:** Allow connection to popular genealogy services.

* [ ] Build `integration` app with modular connectors.
* [ ] Implement FamilySearch GEDCOM X API client.
* [ ] Optional: Ancestry.com CSV/GEDCOM import.
* [ ] Credential management and OAuth for remote services.

**Deliverables:**

* Configurable integration endpoints.
* Background import tasks (Celery or RQ).

---

### **Phase 7 ‚Äì Custom Data Entry & UI**

**Goal:** Build friendly, source-specific entry and review interfaces.

* [ ] Use Django Admin and/or DRF + React frontend.
* [ ] Define templates for common record types (e.g., Census, Marriage License, Death Certificate).
* [ ] Inline editing for related entities (Person ‚Üí Facts ‚Üí Sources ‚Üí Places).
* [ ] Include data confidence, provenance, and discrepancy flags.

**Deliverables:**

* Responsive UI for genealogical data editing.
* Customizable forms for frequent record sources.

---

### **Phase 8 ‚Äì Analysis, Reporting & Quality Dashboard**

**Goal:** Monitor data completeness, consistency, and errors.

* [ ] Build analytics dashboard with metrics (number of persons, completeness %, errors per record).
* [ ] Track merge actions and validation outcomes.
* [ ] Integrate Sentry or Prometheus for monitoring.

**Deliverables:**

* Quality metrics dashboard.
* Audit trail and activity logs.

---

## üß† Future Enhancements

* GraphDB backend (Neo4j or RDF triple store) for advanced kinship traversal.
* Search index (Elasticsearch or PostgreSQL FTS) for person/place lookups.
* Versioned history (using `django-simple-history`).
* User tree sharing and permissions system.
* Auto-suggested merges or ‚Äúresearch hints.‚Äù

---

## üßæ Project Tracking

Use this document as a persistent place to:

* Record progress per phase (mark checkboxes ‚úÖ as you complete them).
* Add new ideas or discoveries during experimentation.
* Log questions, blockers, and key design decisions.

---

**Next Step:**
Start Phase 0 ‚Äî create the Django project, set up PostgreSQL, and write the minimal `core.models.BaseModel`. Then log your observations and lessons learned here.
